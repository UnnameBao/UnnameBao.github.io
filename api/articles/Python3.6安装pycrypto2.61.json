{"title":"Python3.6安装pycrypto2.61","slug":"Python3.6安装pycrypto2.61","date":"2017-09-20T11:32:01.000Z","updated":"2021-02-22T15:52:29.772Z","comments":true,"path":"api/articles/Python3.6安装pycrypto2.61.json","photos":[],"link":"","excerpt":null,"covers":["../../../../image/31.png"],"content":"<p><a href=\"http://creativecommons.org/licenses/by-sa/4.0/\"> </a> 版权声明：本文为博主原创文章，遵循<a href=\"http://creativecommons.org/licenses/by-sa/4.0/\"> CC 4.0 BY-SA </a>版权协议，转载请附上原文出处链接和本声明。  本文链接：<a href=\"https://blog.csdn.net/s1054436218/article/details/78044524\">https://blog.csdn.net/s1054436218/article/details/78044524</a></p>\n<p>本来以为自己的Python3.6早就装好了pycrypto，结果发现只是装在了自己的python2.7，因为想要用python3开发后台，利用pycrypto会省很多事儿，于是pip install pycrypto。</p>\n<p>后来会报错误：</p>\n<p>error: command ‘C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\BIN\\x86_amd64\\cl.exe’ failed with exit status 1158 command ‘C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\BIN\\x86_amd64\\cl.exe’ failed with exit status 2</p>\n<p>然后百度了半天都是瞎扯的，在google上搜到了一个解决方法（假设本机安装了Microsoft Visual Studio2017 Community版）：</p>\n<p>第一步：将D:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Community\\VC\\Tools\\MSVC\\14.10.25017\\include\\stdint.h文件拷贝到C:\\Program Files (x86)\\Windows Kits\\10\\Include\\10.0.15063.0\\ucrt\\目录下</p>\n<p>第二步：修改C:\\Program Files (x86)\\Windows Kits\\10\\Include\\10.0.15063.0\\ucrt\\inttypes.h中的第13行，将</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#include &lt;stdint.h&gt;</span><br></pre></td></tr></table></figure>\n<p>修改为：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#include &quot;stdint.h&quot;</span><br></pre></td></tr></table></figure>\n<p>然后再次安装，出现了新问题：</p>\n<p>error: command ‘C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\BIN\\x86_amd64\\link.exe’ failed with exit status 1158</p>\n<p>然后继续google之，一个外国朋友给了一个解决方法：</p>\n<p>第一步：将C:\\Program Files (x86)\\Windows Kits\\10\\bin\\x64 加入path</p>\n<p>第二部：将rc.exe和rcdll.dll两个文件从</p>\n<p>C:\\Program Files (x86)\\Windows Kits\\8.1\\bin\\x86</p>\n<p>复制到</p>\n<p>C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\bin</p>\n<p>到此，我已经安装成功了，可是import的时候又出现问题：</p>\n<p>ModuleNotFoundError: No module named ‘Crypto’</p>\n<p>原来是因为安装过crypto，再安装pycrypto的时候就会 有冲突，于是卸载掉两个，重新安装pycrypto，新的问题又出现了：</p>\n<p>ModuleNotFoundError: No module named winrandom</p>\n<p>这次百度解决了：</p>\n<p>修改python3安装目录下的 lib/Crypto/Random/OSRNG/nt.py 文件中找到</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import winrandom</span><br></pre></td></tr></table></figure>\n<p>修改为：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">from Crypto.Random.OSRNG import winrandom</span><br></pre></td></tr></table></figure>\n<p>OK，到此就解决全部问题了！~ <img src=\"../../../../image/31.png\" alt=\"\" /></p>\n","categories":[],"tags":[{"name":"CSDN迁移","slug":"CSDN迁移","count":6,"path":"api/tags/CSDN迁移.json"}]}